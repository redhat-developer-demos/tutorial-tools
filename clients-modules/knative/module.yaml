schema_version: 1

name: knative
version: 1.8.1
description: "Install Knative, Camel-K, Tekton Clients"

labels:
  - name: "com.rhd.tutorial.tools.kn-version"
    value: "v1.8.1"
  - name: "com.rhd.tutorial.tools.tkn-version"
    value: "0.29.0"
  - name: "com.rhd.tutorial.tools.kamel-version"
    value: "1.2.0"
  - name: "io.k8s.description"
    value: "The Knative and Tekton Clients"
  - name: "io.k8s.display-name"
    value: "Tutorial Tools Knative"

envs:
  - name: "KN_VERSION"
    value: "v1.8.1"
  - name: "TKN_VERSION"
    value: "0.29.0"

# unfortunately by now the version needs to be hardcoded.
artifacts:
  - name: knative-client
    url: https://github.com/knative/client/releases/download/knative-v1.8.1/kn-linux-amd64
    sha256: bb0e52175a08dcb1ef0ee4c519959862defea1042a77f62047b3114bb55bece5
    target: kn
  - name: tekton-cli
    url: https://github.com/tektoncd/cli/releases/download/v0.29.0/tkn_0.29.0_Linux_x86_64.tar.gz
    sha256: 91a43dab15c5cb8406197cc746bbdb586f4b82a8f76f63e301c3b9cd6b908b3a
    target: tkn.tar.gz
  - name: kamel-cli
    url: https://github.com/apache/camel-k/releases/download/v1.11.0/camel-k-client-1.11.0-linux-64bit.tar.gz
    sha512: c951a30c9c13fa7751bbc28598326378dbbef1ca14c3590a4f131766a2abcf7eff3ec1cf14c0173c52b31cb926e2772af301612e5173e9a0e1dfef26b18574d7
    target: kamel.tar.gz

execute:
  - script: install.sh
