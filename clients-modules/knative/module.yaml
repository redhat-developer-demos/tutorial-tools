schema_version: 1

name: knative
version: 0.0.3
description: "Install Knative, Camel-K, Tekton Clients"

labels:
  - name: "com.rhd.tutorial.tools.kn-version"
    value: "v0.14.0"
  - name: "com.rhd.tutorial.tools.tkn-version"
    value: "0.8.0"
  - name: "com.rhd.tutorial.tools.kamel-version"
    value: "1.0.0-RC2"
  - name: "io.k8s.description"
    value: "The Knative and Tekton Clients"
  - name: "io.k8s.display-name"
    value: "Tutorial Tools Knative"

envs:
  - name: "KN_VERSION"
    value: "v0.14.0"
  - name: "TKN_VERSION"
    value: "0.8.0"

# unfortunately by now the version needs to be hardcoded.
artifacts:
  - name: knative-client
    url: https://github.com/knative/client/releases/download/v0.14.0/kn-linux-amd64
    sha256: 4dcc7afd657cf246b5fb6ccd18530a86d30607c024ecd9c4ef5be58e3822f339
    target: kn
  - name: tekton-cli
    url: https://github.com/tektoncd/cli/releases/download/v0.8.0/tkn_0.8.0_Linux_x86_64.tar.gz
    sha256: e131865fbd7b406ae7ad471fb9561f270f8b60de2cb29e1dc15485ffb60944b6
    target: tkn.tar.gz
  - name: kamel-cli
    url: https://github.com/apache/camel-k/releases/download/1.0.0-RC2/camel-k-client-1.0.0-RC2-linux-64bit.tar.gz
    sha512: 0d4fafa8aa298375830b6c33389141b9127e34410edc9069f7298490d676e499605eb191832b4ae687e29a68faf86b8724212f7e21e885f1110688b154864712
    target: kamel.tar.gz

execute:
  - script: install.sh
